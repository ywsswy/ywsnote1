netstat -ano
tasklist /m /fo list /FI "PID eq 1316"
tasklist /FI "PID eq 1316"
wmic process where name="tim.exe" get ExecutablePath
【1】端口状态
1、LISTENING状态
　　FTP服务启动后首先处于侦听（LISTENING）状态。
2、ESTABLISHED状态
　　ESTABLISHED的意思是建立连接。表示两台机器正在通信。
3、CLOSE_WAIT
    对方主动关闭连接或者网络异常导致连接中断，这时我方的状态会变成CLOSE_WAIT 此时我方要调用close()来使得连接正确关闭
4、TIME_WAIT
    我方主动调用close()断开连接，收到对方确认后状态变为TIME_WAIT。TCP协议规定TIME_WAIT状态会一直持续2MSL(即两倍的分段最大生存期)，以此来确保旧的连接状态不会对新连接产生影响。处于TIME_WAIT状态的连接占用的资源不会被内核释放，所以作为服务器，在可能的情况下，尽量不要主动断开连接，以减少TIME_WAIT状态造成的资源浪费。
【2】
外网地址是10.141.104.28
TCP    0.0.0.0:80             0.0.0.0:0              LISTENING
TCP    0.0.0.0:81             0.0.0.0:0              LISTENING
服务器的80端口和81端口开了python flask监听，任意地址都能访问到
【3】
10.149.134.28:81       123.147.248.85:44357   ESTABLISHED     4040
10.149.134.28:81       123.147.248.85:44358   TIME_WAIT       0
10.149.134.28:81       123.147.248.85:44359   ESTABLISHED     4040
10.149.134.28:81       123.147.248.85:44360   ESTABLISHED     4040
某个浏览器访问了我的服务器web服务，这里就有一些跟81端口建立的连接
【4】
10.149.134.28:6082     125.39.213.30:80       CLOSE_WAIT      4724
10.149.134.28:6085     220.249.243.55:80      CLOSE_WAIT      4724
10.149.134.28:47455    14.17.41.210:80        CLOSE_WAIT      4724
127.0.0.1:4300         0.0.0.0:0              LISTENING       4724
127.0.0.1:4301         0.0.0.0:0              LISTENING       4724
4724是TIM.exe，
CLOSE_WAIT的是对方主动关闭的，此时我方如何处理，无法处理，这是软件源代码垃圾的问题
【5】
****本地主机发起连接 远程连接服务器，本地主机拿出一个端口去连接服务器的3389端口
 192.168.43.51:18457    123.206.27.78:3389     ESTABLISHED     9088（mstsc）
****服务器的状态
10.141.104.28:3389     31.207.47.72:30466	ESTABLISHED     1736（svchost）
10.141.104.28:3389     31.207.47.72:33651
10.141.104.28:3389     31.207.47.72:35628
10.141.104.28:3389     31.207.47.72:35769
10.141.104.28:3389     123.147.248.158:2351
10.141.104.28:3389     141.223.239.121:49575
【6】
检测端口是否开放
telnet 只能检测tcp端口0.0.0.0或者本机ip
telnet 192.168.0.3 135
nc 能检测一个区间
nc -vz 192.168.0.3 134-144
【*】
127.0.0.1:4300	0.0.0.0:0	LISTENING	4724
跟
0.0.0.0:4300	0.0.0.0:0	LISTENING	4724
区别是什么
【*】
TCP    [::]:135               [::]:0                 LISTENING
TCP    [::]:445               [::]:0                 LISTENING
TCP    [::]:1025              [::]:0                 LISTENING
【*】
UDP    0.0.0.0:500            *:*
UDP    0.0.0.0:3389           *:*
UDP    10.149.134.28:137      *:*
UDP    10.149.134.28:138      *:*
UDP    [::]:500               *:*
UDP    [::]:3389              *:*
这是UPD不见对方IP的在windows下用*:*表示对方
[::]:ipv6表示法
【计划：设置规则（网段）】
比如我的ip地址是123.297.22.75，那么
127.0.0.1:4300 0.0.0.0:0 LISTENING 4724
0.0.0.0:4300 0.0.0.0:0 LISTENING 4724
123.297.22.75:4300 0.0.0.0:0 LISTENING 4724
这四条分别有什么区别啊
